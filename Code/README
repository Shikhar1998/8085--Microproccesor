Use Context switching in all functions you make or atleast give a big warning of what registers your functions edit.
